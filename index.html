<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
     <title>Grunt-dot-template-compiler by hmarcelino</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <link rel="stylesheet" type="text/css" href="stylesheets/index.css"></link>
</head>

<body>
    <div class="hm-header">
      <h1>Grunt-dot-template-compiler</h1>
      <p>A plugin that compiles files with doT templates into javascript objects</p>

      <ul>
        <li><a href="https://github.com/hmarcelino/grunt-dot-template-compiler/zipball/master">Download ZIP File</a></li>
        <li><a href="https://github.com/hmarcelino/grunt-dot-template-compiler/tarball/master">Download TAR Ball</a></li>
        <li><a href="https://github.com/hmarcelino/grunt-dot-template-compiler">View On GitHub</a></li>
      </ul>

  </div>
  <div class="hm-body">

      <h2>
<a name="grunt-dot-template-compiler" class="anchor" href="#grunt-dot-template-compiler"><span class="octicon octicon-link"></span></a>Grunt doT template compiler</h2>

<p>A plugin that compiles files with doT templates into javascript objects. The motivation is that this work can be done while building the project.</p>

<p>You create multiple template files with several <code>script</code> blocks for each template. The template name is the function name. After compile you can add the js generated file to you project.</p>

<h3>
<a name="example" class="anchor" href="#example"><span class="octicon octicon-link"></span></a>Example:</h3>

<p><strong>Grunt config</strong>:</p>

<div class="highlight highlight-json"><pre><span class="">grunt.initConfig(</span><span class="p">{</span>
    <span class="nt">"doTCompiler"</span> <span class="p">:</span> <span class="p">{</span>
        <span class="nt">"templates-with-variablename"</span><span class="p">:</span> <span class="p">{</span>
            <span class="">src:</span> <span class="">'*.tmpl.doT',</span>
            <span class="">dest:</span> <span class="">'dist/templates-with-variablename.js',</span>
            <span class="">options:</span> <span class="">{</span>
                <span class="">variableName:</span> <span class="nt">"_htmlTemplates"</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="">});</span>
</pre></div>

<p><strong>Templates</strong>:<br>
One template files with several <code>script</code> blocks for each template.</p>

<div class="highlight highlight-html"><pre><span class="nt">&lt;script </span><span class="na">id=</span><span class="s">"user-info-tmpl"</span> <span class="na">type=</span><span class="s">"text/x-doT-tmpl"</span><span class="nt">&gt;</span>
    <span class="o">&lt;</span><span class="nx">div</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"user-info"</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="nx">Hi</span> <span class="p">{{</span><span class="o">=</span><span class="nx">it</span><span class="p">.</span><span class="nx">name</span><span class="p">}}</span><span class="o">!&lt;</span><span class="">/div&gt;</span>
        <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="p">{{</span><span class="o">=</span><span class="nx">it</span><span class="p">.</span><span class="nx">age</span> <span class="o">||</span> <span class="s1">''</span><span class="p">}}</span><span class="o">&lt;</span><span class="">/div&gt;</span>
    <span class="o">&lt;</span><span class="">/div&gt;</span>
<span class="nt">&lt;/script&gt;</span>

<span class="nt">&lt;script </span><span class="na">id=</span><span class="s">"list-items"</span> <span class="na">type=</span><span class="s">"text/x-doT-tmpl"</span><span class="nt">&gt;</span>
    <span class="o">&lt;</span><span class="nx">ul</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"list-items"</span><span class="o">&gt;</span>
        <span class="p">{{</span><span class="o">~</span><span class="nx">it</span><span class="p">.</span><span class="nx">array</span> <span class="o">:</span><span class="nx">value</span><span class="o">:</span><span class="nx">index</span><span class="p">}}</span>
            <span class="o">&lt;</span><span class="nx">li</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"item"</span><span class="o">&gt;</span><span class="p">{{</span><span class="o">=</span><span class="nx">value</span><span class="p">}}</span><span class="o">!&lt;</span><span class="">/li&gt;</span>
        <span class="p">{{</span><span class="o">~</span><span class="p">}}</span>
    <span class="o">&lt;</span><span class="">/ul&gt;</span>
<span class="nt">&lt;/script&gt;</span>

</pre></div>

<p><strong>Result:</strong></p>

<div class="highlight highlight-javascript"><pre><span class="kd">var</span> <span class="nx">_htmlTemplates</span> <span class="o">=</span> <span class="p">{</span>
<span class="s2">"user-info-tmpl"</span> <span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">it</span><span class="p">)</span> <span class="p">{</span>
<span class="kd">var</span> <span class="nx">out</span><span class="o">=</span><span class="s1">'&lt;div class="user-info"&gt;&lt;div&gt;Hi '</span><span class="o">+</span><span class="p">(</span><span class="nx">it</span><span class="p">.</span><span class="nx">name</span><span class="p">)</span><span class="o">+</span><span class="s1">'!&lt;/div&gt;&lt;div&gt;'</span><span class="o">+</span><span class="p">(</span><span class="nx">it</span><span class="p">.</span><span class="nx">age</span> <span class="o">||</span> <span class="s1">''</span><span class="p">)</span><span class="o">+</span><span class="s1">'&lt;/div&gt;&lt;/div&gt;'</span><span class="p">;</span><span class="k">return</span> <span class="nx">out</span><span class="p">;</span>
<span class="p">}</span>
<span class="p">,</span>
<span class="s2">"list-items"</span> <span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">it</span><span class="p">)</span> <span class="p">{</span>
<span class="kd">var</span> <span class="nx">out</span><span class="o">=</span><span class="s1">'&lt;ul class="list-items"&gt;'</span><span class="p">;</span><span class="kd">var</span> <span class="nx">arr1</span><span class="o">=</span><span class="nx">it</span><span class="p">.</span><span class="nx">array</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">arr1</span><span class="p">){</span><span class="kd">var</span> <span class="nx">value</span><span class="p">,</span><span class="nx">index</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span><span class="nx">l1</span><span class="o">=</span><span class="nx">arr1</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">1</span><span class="p">;</span><span class="k">while</span><span class="p">(</span><span class="nx">index</span><span class="o">&lt;</span><span class="nx">l1</span><span class="p">){</span><span class="nx">value</span><span class="o">=</span><span class="nx">arr1</span><span class="p">[</span><span class="nx">index</span><span class="o">+=</span><span class="mi">1</span><span class="p">];</span><span class="nx">out</span><span class="o">+=</span><span class="s1">'&lt;li class="item"&gt;'</span><span class="o">+</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span><span class="o">+</span><span class="s1">'!&lt;/li&gt;'</span><span class="p">;}</span> <span class="p">}</span> <span class="nx">out</span><span class="o">+=</span><span class="s1">'&lt;/ul&gt;'</span><span class="p">;</span><span class="k">return</span> <span class="nx">out</span><span class="p">;</span>
<span class="p">}</span>
<span class="p">};</span>
</pre></div>

<h3>
<a name="usage" class="anchor" href="#usage"><span class="octicon octicon-link"></span></a>Usage:</h3>

<p><code>npm install --save grunt-dot-tmpl-compiler</code></p>

<p>And add to your GruntFile.js:</p>

<p><code>grunt.loadNpmTasks('grunt-dot-tmpl-compiler');</code></p>

<h3>
<a name="arguments" class="anchor" href="#arguments"><span class="octicon octicon-link"></span></a>Arguments:</h3>

<ul>
<li>
<strong>src</strong>: the directory where the templates files exist.</li>
<li>
<strong>dist</strong>: the destination directory for the compiled templates</li>
<li>
<strong>options</strong>: the options block</li>
</ul><h3>
<a name="options" class="anchor" href="#options"><span class="octicon octicon-link"></span></a>Options:</h3>

<ul>
<li>
<strong>variableName</strong>: the name of the variable that will contain all the compiled templates. Defaults to <strong>_templates</strong>.</li>
</ul>

</div>

  <script src="javascripts/scale.fix.js"></script>

  <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>

</body>
</html>
